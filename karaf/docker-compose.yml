version: "3"

services:
  karaf:
    image: apache/karaf:4.3.7
    container_name: karaf
    expose:
      - "1099"
      - "44444"
      - "8101"
      - "8181"
    ports:
      - "8101:8101"
      - "1099:1099"
      - "44444:44444"
      - "8181:8181"

    volumes:
      - ./data/karaf/data:/opt/apache-karaf/data
      - ./data/karaf/deploy:/opt/apache-karaf/deploy
      - ./conf/karaf/users.properties:/opt/apache-karaf/etc/users.properties
      - ./conf/karaf/org.apache.karaf.features.cfg:/opt/apache-karaf/etc/org.apache.karaf.features.cfg

 
    command: karaf
    stdin_open: true
    tty: true
